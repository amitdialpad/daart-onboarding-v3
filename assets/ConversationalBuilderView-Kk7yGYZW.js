import{g as de,_ as A,r as w,c as l,o as a,a as t,t as c,F as C,d as S,n as M,f,h as D,i as y,e as ue,j as te,k as $,w as se,v as ne,l as P,m as ie,p as X,q as O,s as L,x as ce,T as me,y as pe,z as ge,u as he,A as ee}from"./index-1krYkD9E.js";const G={SHOWING_PLAN:"showing_plan",ASKING_PATH:"asking_path",BEGINNER_PHASE_1:"beginner_phase_1",PRO_GATHERING_INFO:"pro_gathering_info",PRO_CONFIGURING:"pro_configuring"},ve=de("conversation",{state:()=>({currentState:G.SHOWING_PLAN,userPath:null,messages:[],currentPhase:{number:1,name:"Agent Foundation & Skills",status:"pending",currentQuestionIndex:0},milestones:{goal:"",contextSummary:"",completed:[],current:"",upcoming:["Add tools connections","Add safety and behavior guides (guardrails)","Validate","Add more tasks (optional)","Test"]},isWaitingForAI:!1,isProcessing:!1}),getters:{allMessages:o=>o.messages,isWaitingForUser:o=>!o.isWaitingForAI&&!o.isProcessing,milestoneStatus:o=>({goal:o.milestones.goal,contextSummary:o.milestones.contextSummary,completed:o.milestones.completed,current:o.milestones.current,upcoming:o.milestones.upcoming})},actions:{addMessage(o){const p={id:Date.now().toString(),timestamp:new Date,...o};this.messages.push(p)},addAIMessage(o,p="text",d=null,n=null,e=null,i=null){this.addMessage({sender:"ai",content:o,type:p,actions:d,improvements:n,progressItems:e,title:i})},updateMessage(o,p){const d=this.messages.find(n=>n.id===o);d&&Object.assign(d,p)},addUserMessage(o){this.addMessage({sender:"user",content:o,type:"text"})},initializeConversation(o){this.messages=[],this.milestones.goal=o,this.addAIMessage("Perfect! Here's what we'll build together:"),setTimeout(()=>{this.addAIMessage(null,"whole-plan")},500),this.currentState=G.ASKING_PATH},selectPath(o){this.userPath=o,o==="beginner"?(this.currentState=G.BEGINNER_PHASE_1,this.currentPhase.status="in_progress",this.milestones.current=`Goal: ${this.milestones.goal}`,this.addAIMessage("Great! Let's start with the basics."),setTimeout(()=>{this.addAIMessage("What's the main purpose of appointments in your business?")},800)):o==="pro"&&(this.currentState=G.PRO_CONFIGURING,this.currentPhase.status="in_progress",this.addAIMessage("Perfect! Let me run through the entire setup for you."),setTimeout(()=>{this.addAIMessage("Running full agent configuration...","loading-progress",null,null,[{label:"Agent Foundation & Skills - Creating booking capabilities with intelligent scheduling logic",status:"pending"},{label:"Tool Connections - Preparing integrations for calendar, video conferencing, and CRM systems",status:"pending"},{label:"Safety & Behavioral Guardrails - Implementing boundaries to ensure professional, compliant interactions",status:"pending"},{label:"Conversation Flows - Designing natural dialogues for scheduling, rescheduling, confirmations, and cancellations",status:"pending"},{label:"Smart Features - Adding timezone handling, conflict detection, and automated reminders",status:"pending"}],"I'm now building your agent with the following:")},800),setTimeout(()=>{this.addAIMessage(`Configuration complete! Your agent framework is built. Now I just need a few key details to finalize everything.

You can answer these individually, or if you have a document with your scheduling policies, business hours, and requirements, feel free to copy and paste it here and I'll extract everything I need.`,"text",["Answer questions","Paste a document"]),this.currentState=G.PRO_GATHERING_INFO},3500))},updateMilestone(o){o.current&&(this.milestones.current=o.current),o.contextSummary&&(this.milestones.contextSummary=o.contextSummary),o.completed&&this.milestones.completed.push(o.completed)},setWaitingForAI(o){this.isWaitingForAI=o},setProcessing(o){this.isProcessing=o},clearConversation(){this.messages=[],this.currentState=G.SHOWING_PLAN,this.userPath=null,this.currentPhase={number:1,name:"Agent Foundation & Skills",status:"pending",currentQuestionIndex:0},this.milestones={goal:"",contextSummary:"",completed:[],current:"",upcoming:["Add tools connections","Add safety and behavior guides (guardrails)","Validate","Add more tasks (optional)","Test"]}}}}),fe={class:"validation-container"},be={class:"validation-header"},ye={class:"validation-subtitle"},_e={class:"improvements-list"},ke=["onClick"],we={class:"card-header-left"},Ae={class:"card-number"},Ie={class:"card-title-group"},Pe={class:"card-title"},$e={class:"expand-icon"},Ce={key:0,class:"card-content"},Se={class:"card-description"},Me={key:0,class:"card-details"},Te={class:"details-text"},xe={key:1,class:"card-impact"},Ge={class:"impact-text"},Fe={class:"validation-actions"},Ne={__name:"ValidationCard",props:{improvements:{type:Array,required:!0,default:()=>[]}},emits:["apply-all","review-each","skip"],setup(o){const p=w({}),d=n=>{p.value[n]=!p.value[n]};return(n,e)=>(a(),l("div",fe,[t("div",be,[e[3]||(e[3]=t("h3",null,"Validation Complete",-1)),t("p",ye," Found "+c(o.improvements.length)+" improvements that could enhance your agent ",1)]),t("div",_e,[(a(!0),l(C,null,S(o.improvements,(i,m)=>(a(),l("div",{key:m,class:M(["improvement-card",{expanded:p.value[m]}])},[t("button",{onClick:b=>d(m),class:"card-header"},[t("div",we,[t("span",Ae,c(m+1),1),t("div",Ie,[t("h4",Pe,c(i.title),1),t("span",{class:M(["card-badge",i.type])},c(i.type),3)])]),t("span",$e,c(p.value[m]?"−":"+"),1)],8,ke),p.value[m]?(a(),l("div",Ce,[t("p",Se,c(i.description),1),i.details?(a(),l("div",Me,[e[4]||(e[4]=t("p",{class:"details-label"},"What this means:",-1)),t("p",Te,c(i.details),1)])):f("",!0),i.impact?(a(),l("div",xe,[e[5]||(e[5]=t("div",{class:"impact-label"},"Impact:",-1)),t("div",Ge,c(i.impact),1)])):f("",!0)])):f("",!0)],2))),128))]),t("div",Fe,[t("button",{onClick:e[0]||(e[0]=i=>n.$emit("apply-all")),class:"action-button primary"}," Apply All Improvements "),t("button",{onClick:e[1]||(e[1]=i=>n.$emit("review-each")),class:"action-button secondary"}," Review Each Individually "),t("button",{onClick:e[2]||(e[2]=i=>n.$emit("skip")),class:"action-button tertiary"}," Skip for Now ")])]))}},Re=A(Ne,[["__scopeId","data-v-41805698"]]),Ve={class:"vs-preview-card"},De={class:"vs-visual"},Be={class:"vs-box agent-box"},We={class:"box-content"},Oe={class:"vs-actions"},Le={__name:"VisualStudioPreview",emits:["check-vs","keep-building"],setup(o){const p=D(),d=y(()=>{const n=p.goal||"Healthcare agent";return n.length>40?n.substring(0,40)+"...":n});return(n,e)=>(a(),l("div",Ve,[e[5]||(e[5]=t("div",{class:"vs-header"},[t("span",{class:"vs-title"},"Agent Studio sneak peek"),t("span",{class:"vs-arrow"},"→")],-1)),t("div",De,[t("div",Be,[e[2]||(e[2]=t("div",{class:"box-label"},"Agent",-1)),t("div",We,c(d.value),1)]),e[3]||(e[3]=t("div",{class:"vs-connector"},"→",-1)),e[4]||(e[4]=t("div",{class:"vs-box task-box"},[t("div",{class:"box-label"},"Task"),t("div",{class:"box-content"},"Book appointments")],-1))]),t("div",Oe,[t("button",{onClick:e[0]||(e[0]=i=>n.$emit("check-vs")),class:"vs-button secondary"}," Check out Agent Studio → "),t("button",{onClick:e[1]||(e[1]=i=>n.$emit("keep-building")),class:"vs-button primary"}," Keep building → ")])]))}},He=A(Le,[["__scopeId","data-v-0494a0c2"]]),Qe={class:"whole-plan-view"},ze={key:0},Ee={class:"plan-phases"},qe={class:"phase-number"},Ue={class:"phase-title"},Ye={class:"phase-description"},Ke={key:0,class:"phase-items"},je={class:"action-section"},Ze={class:"action-buttons"},Je=["disabled"],Xe=["disabled"],et={key:1,class:"plan-summary"},tt={class:"summary-text"},st={__name:"WholePlanView",emits:["confirm","cancel"],setup(o,{emit:p}){const d=p,n=w(!1),e=w(null),i=w(!1),m=()=>{n.value||(n.value=!0,e.value="confirm",i.value=!0,d("confirm"))},b=()=>{n.value||(n.value=!0,e.value="cancel",i.value=!0,d("cancel"))},h=[{number:1,title:"Agent Foundation & Tasks",description:"Define your company context and the specific tasks you want your agent to handle",items:["Company information","Business hours & scheduling rules","Core agent tasks"]},{number:2,title:"Enable Connections",description:"Connect tools and platforms your agent needs to access",items:["Calendar integration (Google Calendar, Outlook)","Video conferencing (Zoom, Google Meet)","CRM or other platforms"]},{number:3,title:"Safety & Guardrails",description:"Set boundaries to ensure your agent operates safely",items:["Safety rules","Identity verification","Business rules & constraints"]},{number:4,title:"Validate & Refine",description:"Review progress and make improvements",items:["Identify gaps","Apply suggested improvements","Finalize configuration"]},{number:5,title:"Design Conversations",description:"Build conversation flows for key interactions",items:["Scheduling flows","Rescheduling logic","Confirmations & follow-ups"]},{number:6,title:"Test & Launch",description:"Validate everything works as expected",items:["Run test scenarios","Generate demo link","Deploy when ready"]}];return(_,g)=>(a(),l("div",Qe,[i.value?(a(),l("div",et,[t("p",tt,[t("strong",null,c(e.value==="confirm"?"Running":"Starting")+" 6-Phase Build Plan:",1),g[3]||(g[3]=ue(" Foundation → Connect → Safety → Validate → Design → Test ",-1))]),t("button",{onClick:g[0]||(g[0]=v=>i.value=!1),class:"view-details-btn"}," View plan details ")])):(a(),l("div",ze,[g[2]||(g[2]=t("div",{class:"phases-header"},[t("h3",{class:"phases-title"},"6-Phase Build Plan"),t("p",{class:"phases-subtitle"},"Foundation → Connect → Safety → Validate → Design → Test")],-1)),t("div",Ee,[(a(),l(C,null,S(h,(v,T)=>t("div",{key:v.number,class:"phase-card"},[t("div",qe,"Phase "+c(v.number),1),t("h4",Ue,c(v.title),1),t("p",Ye,c(v.description),1),v.items&&v.items.length>0?(a(),l("div",Ke,[(a(!0),l(C,null,S(v.items,x=>(a(),l("div",{key:x,class:"phase-item"},c(x),1))),128))])):f("",!0)])),64))]),t("div",je,[g[1]||(g[1]=t("h4",{class:"action-title"},"How would you like to proceed?",-1)),t("div",Ze,[t("button",{onClick:b,class:M(["action-btn secondary-action",{selected:e.value==="cancel"}]),disabled:n.value},c(e.value==="cancel"?"Starting guided setup...":"Guide me step by step"),11,Je),t("button",{onClick:m,class:M(["action-btn primary-action",{selected:e.value==="confirm"}]),disabled:n.value},c(e.value==="confirm"?"Running plan...":"Run the whole plan"),11,Xe)])])]))]))}},nt=A(st,[["__scopeId","data-v-70447717"]]),it={class:"document-input-card"},ot={class:"input-actions"},at=["disabled"],rt=["disabled"],lt={__name:"DocumentInput",emits:["submit","cancel"],setup(o,{emit:p}){const d=p,n=w(""),e=w(!1),i=w(null),m=()=>{i.value&&(i.value.style.height="auto",i.value.style.height=i.value.scrollHeight+"px")};te(()=>{$(()=>{i.value&&i.value.focus()})});const b=()=>{!n.value.trim()||e.value||(e.value=!0,d("submit",n.value.trim()))},h=()=>{e.value||d("cancel")};return(_,g)=>(a(),l("div",it,[g[1]||(g[1]=t("p",{class:"input-label"},"Paste your requirements document below:",-1)),se(t("textarea",{"onUpdate:modelValue":g[0]||(g[0]=v=>n.value=v),placeholder:"Paste your document here... Include details like business hours, appointment types, scheduling rules, safety requirements, etc.",class:"document-textarea",rows:"8",ref_key:"textarea",ref:i,onInput:m},null,544),[[ne,n.value]]),t("div",ot,[t("button",{onClick:h,disabled:e.value,class:"action-btn cancel-btn"}," Cancel ",8,at),t("button",{onClick:b,disabled:e.value||!n.value.trim(),class:"action-btn submit-btn"},c(e.value?"Processing...":"Submit"),9,rt)])]))}},dt=A(lt,[["__scopeId","data-v-6e1be654"]]),ut={class:"loading-progress"},ct={class:"progress-header"},mt={class:"progress-title"},pt={class:"progress-items"},gt={class:"progress-icon"},ht={key:0,class:"checkmark"},vt={key:1,class:"spinner"},ft={key:2,class:"dot"},bt={class:"progress-label"},yt={__name:"LoadingProgress",props:{title:{type:String,default:"Configuring your agent..."},items:{type:Array,required:!0}},setup(o){return(p,d)=>(a(),l("div",ut,[t("div",ct,[t("span",mt,c(o.title),1)]),t("div",pt,[(a(!0),l(C,null,S(o.items,(n,e)=>(a(),l("div",{key:e,class:M(["progress-item",n.status])},[t("div",gt,[n.status==="completed"?(a(),l("span",ht)):n.status==="in_progress"?(a(),l("span",vt)):(a(),l("span",ft))]),t("span",bt,c(n.label),1)],2))),128))])]))}},_t=A(yt,[["__scopeId","data-v-480b2c0b"]]),kt={class:"message-bubble"},wt={key:5,class:"message-text"},At={key:0,class:"message-actions"},It=["onClick"],Pt={class:"message-timestamp"},$t={__name:"ChatMessage",props:{message:{type:Object,required:!0}},emits:["action-clicked","document-submitted"],setup(o){const p=d=>d?new Date(d).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):"";return(d,n)=>(a(),l("div",{class:M(["chat-message",o.message.sender])},[t("div",kt,[o.message.type==="validation"?(a(),P(Re,{key:0,improvements:o.message.improvements||[],onApplyAll:n[0]||(n[0]=e=>d.$emit("action-clicked","Apply all")),onReviewEach:n[1]||(n[1]=e=>d.$emit("action-clicked","Review each")),onSkip:n[2]||(n[2]=e=>d.$emit("action-clicked","Skip validation"))},null,8,["improvements"])):o.message.type==="visual-studio"?(a(),P(He,{key:1,onCheckVs:n[3]||(n[3]=e=>d.$emit("action-clicked","Check out Visual Studio")),onKeepBuilding:n[4]||(n[4]=e=>d.$emit("action-clicked","Keep building"))})):o.message.type==="whole-plan"?(a(),P(nt,{key:2,onConfirm:n[5]||(n[5]=e=>d.$emit("action-clicked","Confirm whole plan")),onCancel:n[6]||(n[6]=e=>d.$emit("action-clicked","Go step by step"))})):o.message.type==="document-input"?(a(),P(dt,{key:3,onSubmit:n[7]||(n[7]=e=>d.$emit("document-submitted",e)),onCancel:n[8]||(n[8]=e=>d.$emit("action-clicked","Cancel document paste"))})):o.message.type==="loading-progress"?(a(),P(_t,{key:4,title:o.message.title,items:o.message.progressItems||[]},null,8,["title","items"])):(a(),l("div",wt,c(o.message.content),1))]),o.message.actions&&o.message.actions.length>0&&o.message.type==="text"?(a(),l("div",At,[(a(!0),l(C,null,S(o.message.actions,(e,i)=>(a(),l("button",{key:i,onClick:m=>d.$emit("action-clicked",e),class:"action-button"},c(e),9,It))),128))])):f("",!0),t("div",Pt,c(p(o.message.timestamp)),1)],2))}},Ct=A($t,[["__scopeId","data-v-90afe470"]]),St={class:"message-input-container"},Mt={class:"input-wrapper"},Tt=["onKeydown","disabled"],xt={class:"input-actions"},Gt=["disabled"],Ft=["disabled"],Nt={__name:"MessageInput",props:{disabled:{type:Boolean,default:!1}},emits:["send-message","improve"],setup(o,{emit:p}){const d=o,n=p,e=w(""),i=w(null),m=()=>{i.value&&(i.value.style.height="auto",i.value.style.height=i.value.scrollHeight+"px")};ie(e,()=>{$(()=>m())});const b=()=>{!e.value.trim()||d.disabled||(n("send-message",e.value.trim()),e.value="",$(()=>{i.value&&(i.value.style.height="auto",i.value.focus())}))},h=()=>{!e.value.trim()||d.disabled||(n("improve",e.value.trim()),n("send",e.value.trim()),e.value="",$(()=>{i.value&&(i.value.style.height="auto",i.value.focus())}))},_=()=>{e.value+=`
`};return(g,v)=>(a(),l("div",St,[t("div",Mt,[se(t("textarea",{"onUpdate:modelValue":v[0]||(v[0]=T=>e.value=T),onKeydown:[X(O(b,["exact","prevent"]),["enter"]),X(O(_,["shift","exact"]),["enter"])],placeholder:"Type your message...",disabled:o.disabled,ref_key:"textarea",ref:i,rows:"1",class:"message-textarea"},null,40,Tt),[[ne,e.value]]),t("div",xt,[t("button",{onClick:h,disabled:o.disabled||!e.value.trim(),class:"improve-button"}," Improve ",8,Gt),t("button",{onClick:b,disabled:o.disabled||!e.value.trim(),class:"send-button"}," Send ",8,Ft)])])]))}},Rt=A(Nt,[["__scopeId","data-v-dc54a2cd"]]),Vt={class:"chat-header"},Dt={class:"header-content"},Bt={class:"agent-name"},Wt={__name:"ProgressBar",emits:["preview-agent"],setup(o){const p=D(),d=y(()=>p.name||"New AI Agent");return(n,e)=>(a(),l("div",Vt,[t("div",Dt,[t("h1",Bt,c(d.value),1),t("button",{onClick:e[0]||(e[0]=i=>n.$emit("preview-agent")),class:"preview-button"}," Preview Agent ")])]))}},Ot=A(Wt,[["__scopeId","data-v-673cccfc"]]),Lt={class:"modal-header"},Ht={class:"modal-content"},Qt={class:"config-section"},zt={class:"config-grid"},Et={class:"config-item"},qt={class:"config-value"},Ut={class:"config-item"},Yt={class:"config-value"},Kt={key:0,class:"config-section"},jt={class:"config-grid"},Zt={key:0,class:"config-item"},Jt={class:"config-value"},Xt={key:1,class:"config-item"},es={class:"config-value"},ts={key:2,class:"config-item"},ss={class:"config-value"},ns={key:3,class:"config-item"},is={class:"config-value"},os={key:1,class:"config-section"},as={class:"connections-list"},rs={class:"connection-name"},ls={key:2,class:"config-section"},ds={class:"config-grid"},us={key:0,class:"config-item"},cs={class:"config-value"},ms={key:1,class:"config-item"},ps={class:"config-value"},gs={class:"rules-list"},hs={key:3,class:"empty-state"},vs={class:"modal-footer"},fs=["disabled"],bs={__name:"PreviewModal",props:{isOpen:{type:Boolean,default:!1}},emits:["close","test-agent"],setup(o,{emit:p}){const d=p,n=D(),e=y(()=>n.name||"New AI Agent"),i=y(()=>n.goal||"Not set"),m=y(()=>n.foundation||{}),b=y(()=>n.connections||[]),h=y(()=>n.guardrails||{}),_=y(()=>m.value.purpose||m.value.businessHours||m.value.appointmentDuration),g=y(()=>b.value.length>0),v=y(()=>h.value.identityVerification||h.value.businessRules&&h.value.businessRules.length>0),T=y(()=>_.value&&g.value),x=()=>{d("test-agent"),d("close")};return(F,u)=>(a(),P(pe,{to:"body"},[L(me,{name:"modal"},{default:ce(()=>[o.isOpen?(a(),l("div",{key:0,class:"modal-overlay",onClick:u[3]||(u[3]=k=>F.$emit("close"))},[t("div",{class:"modal-container",onClick:u[2]||(u[2]=O(()=>{},["stop"]))},[t("div",Lt,[u[4]||(u[4]=t("h2",null,"Agent Configuration",-1)),t("button",{onClick:u[0]||(u[0]=k=>F.$emit("close")),class:"close-button"}," × ")]),t("div",Ht,[t("div",Qt,[u[7]||(u[7]=t("h3",{class:"section-title"},"Agent Details",-1)),t("div",zt,[t("div",Et,[u[5]||(u[5]=t("div",{class:"config-label"},"Name",-1)),t("div",qt,c(e.value),1)]),t("div",Ut,[u[6]||(u[6]=t("div",{class:"config-label"},"Goal",-1)),t("div",Yt,c(i.value),1)])])]),_.value?(a(),l("div",Kt,[u[12]||(u[12]=t("h3",{class:"section-title"},"Foundation",-1)),t("div",jt,[m.value.purpose?(a(),l("div",Zt,[u[8]||(u[8]=t("div",{class:"config-label"},"Purpose",-1)),t("div",Jt,c(m.value.purpose),1)])):f("",!0),m.value.businessHours?(a(),l("div",Xt,[u[9]||(u[9]=t("div",{class:"config-label"},"Business Hours",-1)),t("div",es,c(m.value.businessHours),1)])):f("",!0),m.value.appointmentDuration?(a(),l("div",ts,[u[10]||(u[10]=t("div",{class:"config-label"},"Appointment Duration",-1)),t("div",ss,c(m.value.appointmentDuration),1)])):f("",!0),m.value.bufferTime?(a(),l("div",ns,[u[11]||(u[11]=t("div",{class:"config-label"},"Buffer Time",-1)),t("div",is,c(m.value.bufferTime),1)])):f("",!0)])])):f("",!0),g.value?(a(),l("div",os,[u[13]||(u[13]=t("h3",{class:"section-title"},"Connections",-1)),t("div",as,[(a(!0),l(C,null,S(b.value,k=>(a(),l("div",{key:k.type,class:"connection-item"},[t("span",{class:M(["connection-badge",k.type])},c(k.type),3),t("span",rs,c(k.name),1)]))),128))])])):f("",!0),v.value?(a(),l("div",ls,[u[16]||(u[16]=t("h3",{class:"section-title"},"Safety & Guardrails",-1)),t("div",ds,[h.value.identityVerification?(a(),l("div",us,[u[14]||(u[14]=t("div",{class:"config-label"},"Identity Verification",-1)),t("div",cs,c(h.value.identityVerification),1)])):f("",!0),h.value.businessRules&&h.value.businessRules.length>0?(a(),l("div",ms,[u[15]||(u[15]=t("div",{class:"config-label"},"Business Rules",-1)),t("div",ps,[t("ul",gs,[(a(!0),l(C,null,S(h.value.businessRules,(k,R)=>(a(),l("li",{key:R},c(k),1))),128))])])])):f("",!0)])])):f("",!0),!_.value&&!g.value&&!v.value?(a(),l("div",hs,[...u[17]||(u[17]=[t("p",null,"Agent configuration in progress...",-1),t("p",{class:"empty-subtitle"},"Complete the conversation to see your agent's full configuration.",-1)])])):f("",!0)]),t("div",vs,[t("button",{onClick:u[1]||(u[1]=k=>F.$emit("close")),class:"footer-button secondary"}," Close "),t("button",{onClick:x,class:"footer-button primary",disabled:!T.value}," Test Agent ",8,fs)])])])):f("",!0)]),_:1})]))}},ys=A(bs,[["__scopeId","data-v-1c6592a8"]]),_s={class:"builder-view"},ks={class:"page-header"},ws={class:"breadcrumb"},As={class:"breadcrumb-item active"},Is={class:"chat-container"},Ps={__name:"ConversationalBuilderView",setup(o){const p=w(!1),d=ge(),n=he(),e=ve(),i=D(),m=w(null),b=y(()=>{const s=e.currentState;return s==="pro_asking_missing"||s==="beginner_phase_1"}),h=(s=!0)=>{m.value&&m.value.scrollTo({top:m.value.scrollHeight,behavior:s?"smooth":"auto"})},_=(s=!0)=>{if(m.value){const r=m.value.lastElementChild;r&&r.scrollIntoView({behavior:s?"smooth":"auto",block:"end"})}};ie(()=>e.messages.length,()=>{$(()=>{setTimeout(()=>{_()},100)})}),te(()=>{const s=d.query.goal||i.goal;if(!s){window.location.href="/";return}if(i.status==="deployed"){n.push(`/agent/${i.id}/overview`);return}i.id||i.initializeAgent(s),e.messages.length===0&&e.initializeConversation(s),$(()=>{h(!1),setTimeout(()=>{h(!1)},100),setTimeout(()=>{h(!1)},500)})});const g=s=>{e.addUserMessage(s),$(()=>{setTimeout(()=>{_()},50)}),F(s)},v=s=>{e.addUserMessage(s),$(()=>{setTimeout(()=>{_()},50)}),u(s)},T=s=>{e.addUserMessage("*Document pasted*"),U(s)},x=()=>{n.push("/test-mode")},F=s=>{const r=e.currentState;e.setWaitingForAI(!0),setTimeout(()=>{r==="asking_path"?s.toLowerCase().includes("step")?e.selectPath("beginner"):(s.toLowerCase().includes("whole")||s.toLowerCase().includes("plan"))&&e.selectPath("pro"):r==="beginner_phase_1"?k(s):r==="pro_asking_missing"?re(s):r==="beginner_phase_2"?R(s):r==="beginner_phase_3"?H(s):r==="beginner_phase_4"?B(s):r==="beginner_phase_5"?Q(s):r==="pro_gathering_info"?U(s):r==="pro_phase_2"?Y(s):r==="pro_phase_3"?K(s):r==="pro_phase_4"&&Z(s),e.setWaitingForAI(!1)},1e3)},u=s=>{const r=e.currentState;if(e.setWaitingForAI(!0),s==="Test agent now"){n.push("/test-mode");return}else if(s==="Check out Visual Studio"){e.currentState="pro_vs_opened",n.push("/workflow-builder");return}else if(s==="Keep building"){e.setWaitingForAI(!0),e.addAIMessage("Great! Let's continue building..."),setTimeout(()=>{j(),e.setWaitingForAI(!1)},1e3);return}else if(s==="Continue to validation"){e.setWaitingForAI(!0),setTimeout(()=>{j(),e.setWaitingForAI(!1)},500);return}setTimeout(()=>{if(s==="Go step by step")e.selectPath("beginner");else if(s==="Confirm whole plan")e.selectPath("pro");else if(r==="pro_gathering_info")s==="Answer questions"?(e.currentState="pro_asking_missing",e.addAIMessage(`Great! Let's collect the key details:

Scheduling Parameters:
• What are your preferred business hours? (e.g., Monday-Friday, 9 AM - 5 PM EST)
• What's the default appointment duration?
• What buffer time between appointments?`)):s==="Paste a document"?e.addAIMessage(null,"document-input"):s==="Cancel document paste"&&e.addAIMessage("No problem! Would you like to:","text",["Answer questions","Paste a document"]);else if(r==="beginner_phase_2")R(s);else if(r==="beginner_phase_3")H(s);else if(r==="beginner_phase_4")B(s);else if(r==="beginner_phase_5")Q(s);else if(r==="beginner_phase_6"||r==="pro_phase_6")if(s==="Start testing")e.addAIMessage("Opening test mode..."),setTimeout(()=>{n.push("/test-mode")},800);else if(s==="Save and get demo link"){e.addAIMessage("Generating your demo link...");const I=i.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),N=Date.now().toString(36),V=`https://daart-demo.com/${I}-${N}`;setTimeout(()=>{e.addAIMessage(`Your agent is ready! Here's your demo link:

${V}

Share this with your team to try the agent. The link will remain active for 30 days.

What would you like to do next?`,"text",["View agent overview","Deploy agent","Test agent now","Monitor performance"])},1500)}else s==="Back to overview"?(e.addAIMessage("Returning to overview..."),setTimeout(()=>{e.addAIMessage("Your agent is built and ready! You can continue building or deploy when ready.")},1e3)):s==="View agent overview"?(i.completeOnboarding(),e.addAIMessage("Opening agent overview..."),setTimeout(()=>{n.push("/agent/1/overview")},800)):s==="Deploy agent"?(i.completeOnboarding(),e.addAIMessage("Opening deployment wizard..."),setTimeout(()=>{n.push("/deploy")},800)):s==="Test agent now"?(i.completeOnboarding(),e.addAIMessage("Opening test mode..."),setTimeout(()=>{n.push("/test-mode")},800)):s==="Monitor performance"&&(i.completeOnboarding(),e.addAIMessage("Opening performance monitor..."),setTimeout(()=>{n.push("/monitor")},800));else r==="pro_phase_2"?Y(s):r==="pro_phase_3"?K(s):r==="pro_phase_4"&&Z(s);e.setWaitingForAI(!1)},1e3)},k=s=>{const r=e.currentPhase.currentQuestionIndex,I=[{field:"purpose",nextQuestion:"Perfect. Now let's talk about how customers will book these appointments. Do you have preferred dates or times when appointments are typically available? For instance, maybe you prioritize weekday mornings, or avoid Fridays?"},{field:"businessHours",nextQuestion:"That makes sense. What about appointment duration — how long do these typically last?"},{field:"appointmentDuration",nextQuestion:"Good. Now, when checking availability, should the agent respect any buffers between appointments? For example, 10 minutes between patients for notes and prep?"},{field:"bufferTime",nextQuestion:"Got it. For Holiday hours or blackout periods I have this information from your Office settings: Standard US holidays, plus lunch from 12:30 to 1:30 PM daily. Is that ok?"},{field:"blackoutPeriods",nextQuestion:null}];if(r<I.length){const N=I[r],V={};V[N.field]=s,i.updateFoundation(V),r===0&&e.updateMilestone({current:`Goal: ${i.goal}`,contextSummary:"Context: in progress"}),e.currentPhase.currentQuestionIndex++,N.nextQuestion?e.addAIMessage(N.nextQuestion):oe()}},R=s=>{const r=e.currentPhase.currentQuestionIndex;r===0?(i.addConnection({type:"calendar",name:s}),e.addAIMessage("Great! Now for video meetings, which service do you use?","text",["Zoom","Microsoft Teams","Google Meet","Other"]),e.currentPhase.currentQuestionIndex++):r===1&&(i.addConnection({type:"video",name:s}),ae())},H=s=>{const r=e.currentPhase.currentQuestionIndex;r===0?(i.updateGuardrails({identityVerification:s}),e.addAIMessage("Got it. Any business rules? For example, limits on new patients per day or provider-specific rules?"),e.currentPhase.currentQuestionIndex++):r===1&&(i.updateGuardrails({businessRules:[s]}),z())},B=s=>{const r=s.toLowerCase();r.includes("apply")?(e.addAIMessage("Applying all improvements..."),setTimeout(()=>{e.addAIMessage("All improvements applied! Your agent is configured and optimized."),setTimeout(()=>{e.userPath==="pro"?J():E()},1e3)},2e3)):r.includes("skip")?(e.addAIMessage("Skipping improvements for now. Your agent is ready to proceed!"),setTimeout(()=>{e.userPath==="pro"?J():E()},800)):r.includes("review")&&e.addAIMessage("Let's review each improvement individually. Which one would you like to start with?","text",["Buffer conflict resolution","Timezone display enhancement","New patient cap alert","Specialty routing fallback","Apply all and continue"])},Q=s=>{s.toLowerCase().includes("test")||s.toLowerCase().includes("skip")?q():e.addAIMessage("Which additional capabilities would you like?","text",["Email confirmations","SMS reminders","Reschedule flows","Skip for now"])},oe=()=>{e.currentPhase.number=2,e.currentPhase.name="Enable Connections",e.currentPhase.status="in_progress",e.currentPhase.currentQuestionIndex=0,e.updateMilestone({completed:"Goal and context defined",current:"Connections: in progress"}),e.currentState="beginner_phase_2",e.addAIMessage("Which calendar system do your providers use?","text",["Google Calendar","Microsoft Calendar","Other"])},ae=()=>{e.currentPhase.number=3,e.currentPhase.name="Safety & Guardrails",e.currentPhase.status="in_progress",e.currentPhase.currentQuestionIndex=0,e.updateMilestone({completed:"Connections added",current:"Safety rules: in progress"}),e.currentState="beginner_phase_3",e.addAIMessage("Now let's set up safety rules. For identity verification, what method works best?","text",["Date of birth","Last 4 of phone","Account PIN","None needed"])},z=()=>{e.currentPhase.number=4,e.currentPhase.name="Validate & Refine",e.currentPhase.status="in_progress",e.currentPhase.currentQuestionIndex=0,e.updateMilestone({completed:"Safety rules configured",current:"Validation: in progress"}),e.currentState="beginner_phase_4",e.addAIMessage("Running validation..."),setTimeout(()=>{const s=[{title:"Buffer conflict resolution",type:"optimization",description:"You've set a 15-minute buffer between appointments and a 12:30-1:30 PM lunch break.",details:"I recommend adding a 5-minute prep buffer before the first afternoon appointment (at 1:30 PM) to prevent back-to-back scheduling issues.",impact:"Prevents double-booking issues and gives staff time to prepare for afternoon appointments"},{title:"Timezone display enhancement",type:"ux",description:"For patients in different time zones, the agent should display times in both the patient's local time AND your office time.",details:"This reduces confusion when patients book appointments, especially if they're calling from Mountain or Eastern time zones while your office is in Pacific time.",impact:"Reduces booking errors and patient confusion by 40%"},{title:"New patient cap alert",type:"safety",description:"Your 5-new-patient-per-day cap should trigger proactive messaging.",details:"When only 1-2 slots remain for new patients, the agent should immediately offer next-day alternatives rather than showing unavailable times.",impact:"Improves patient experience and reduces frustration from seeing 'unavailable' times"},{title:"Specialty routing fallback",type:"enhancement",description:"When Dr. Martinez (pediatrics) or Dr. Chen (cardiology) are unavailable, the agent lacks clear guidance.",details:"The agent should explicitly ask if the patient wants to wait for that specialist or see a general practitioner for non-urgent cases.",impact:"Ensures patients get appropriate care routing and reduces missed appointment opportunities"}];e.addAIMessage(null,"validation",null,s)},2e3)},E=()=>{e.currentPhase.number=5,e.currentPhase.name="Additional Skills",e.currentPhase.status="in_progress",e.currentPhase.currentQuestionIndex=0,e.updateMilestone({completed:"Validation complete",current:"Optional skills"}),e.currentState="beginner_phase_5",e.addAIMessage("Your agent is ready! Want to add more capabilities?","text",["Add confirmations","Add reminders","Skip - test now"])},q=()=>{e.currentPhase.number=6,e.currentPhase.name="Test & Launch",e.currentPhase.status="in_progress",e.updateMilestone({completed:"Agent configured",current:"Ready to test"}),e.currentState="beginner_phase_6",i.completeOnboarding(),i.updateStatus("ready"),e.addAIMessage("Perfect! Your agent is built and ready to test.","text",["Start testing","Save and get demo link","View agent overview","Deploy agent"])},re=s=>{e.addAIMessage("Got it! Processing your scheduling requirements..."),i.updateFoundation({purpose:"Appointment scheduling and management",businessHours:s.includes("hours")?s:"Monday-Friday, 9 AM - 5 PM",appointmentDuration:"30 minutes",bufferTime:"15 minutes",blackoutPeriods:"Standard holidays"}),setTimeout(()=>{e.addAIMessage("Perfect! I have all the details I need."),e.setWaitingForAI(!1),setTimeout(()=>{W()},800)},1e3)},U=(s=null)=>{s?(e.addAIMessage("Extracting requirements from your document..."),i.updateFoundation({purpose:"Medical consultations and appointment management",businessHours:"Monday-Thursday 9am-5pm, Friday 9am-12pm",appointmentDuration:"30-45 minutes",bufferTime:"15 minutes",blackoutPeriods:"US holidays, lunch 12:30-1:30pm"}),setTimeout(()=>{e.addAIMessage("Configuration complete! Found your scheduling rules, business hours, and appointment types."),setTimeout(()=>{W()},800)},1500)):(e.addAIMessage("Configuring with smart defaults based on your goal..."),i.updateFoundation({purpose:"Appointment management",businessHours:"Standard business hours",appointmentDuration:"30 minutes",bufferTime:"15 minutes",blackoutPeriods:"Standard holidays"}),setTimeout(()=>{e.addAIMessage("Configuration complete!"),setTimeout(()=>{W()},800)},1e3))},W=()=>{e.currentPhase.number=2,e.currentPhase.name="Enable Connections",e.currentState="pro_phase_2",e.updateMilestone({completed:"Foundation configured",current:"Connections: in progress"}),e.addAIMessage("Which tools do you use?","text",["Google Calendar + Zoom","Microsoft Calendar + Teams","Custom setup"])},Y=s=>{s.includes("Google")?(i.addConnection({type:"calendar",name:"Google Calendar"}),i.addConnection({type:"video",name:"Zoom"})):s.includes("Microsoft")&&(i.addConnection({type:"calendar",name:"Microsoft Calendar"}),i.addConnection({type:"video",name:"Microsoft Teams"})),e.addAIMessage("Connections configured!"),setTimeout(()=>{le()},1e3)},le=()=>{e.currentPhase.number=3,e.currentPhase.name="Safety & Guardrails",e.currentState="pro_phase_3",e.updateMilestone({completed:"Connections added",current:"Safety: in progress"}),e.addAIMessage("Quick safety check - verification method?","text",["Date of birth","Account PIN","Skip verification"])},K=s=>{i.updateGuardrails({identityVerification:s,safetyRules:["Never invent availability","Read back before confirming","Keep responses under 10 seconds"]}),e.addAIMessage("Safety configured!"),setTimeout(()=>{e.addAIMessage("Connections established!"),setTimeout(()=>{e.addAIMessage("Your first task is built!"),setTimeout(()=>{e.addAIMessage(null,"visual-studio")},800)},800)},1e3)},j=()=>{z(),e.currentState="pro_phase_4"},Z=s=>{B(s)},J=()=>{e.currentPhase.number=5,e.currentState="pro_phase_5",e.updateMilestone({completed:"Validation complete",current:"Ready to test"}),setTimeout(()=>{q(),e.currentState="pro_phase_6"},1e3)};return(s,r)=>(a(),l("div",_s,[t("div",ks,[t("div",ws,[r[2]||(r[2]=t("span",{class:"breadcrumb-item"},"Build",-1)),r[3]||(r[3]=t("span",{class:"breadcrumb-separator"},"›",-1)),t("span",As,c(ee(i).name||"New Agent"),1)]),r[4]||(r[4]=t("h1",{class:"page-title"},"Building Your Agent",-1)),r[5]||(r[5]=t("p",{class:"page-description"},"Answer a few questions to configure your AI agent",-1))]),L(Ot,{onPreviewAgent:r[0]||(r[0]=I=>p.value=!0)}),t("div",Is,[t("div",{class:"chat-messages",ref_key:"messagesContainer",ref:m},[(a(!0),l(C,null,S(ee(e).allMessages,I=>(a(),P(Ct,{key:I.id,message:I,onActionClicked:v,onDocumentSubmitted:T},null,8,["message"]))),128))],512),b.value?(a(),P(Rt,{key:0,onSendMessage:g})):f("",!0)]),L(ys,{"is-open":p.value,onClose:r[1]||(r[1]=I=>p.value=!1),onTestAgent:x},null,8,["is-open"])]))}},Cs=A(Ps,[["__scopeId","data-v-53c35041"]]);export{Cs as default};
