import{l as ye,m as N,_ as w,r as S,c as d,h as l,d as s,t as m,F as $,f as P,n as C,i as b,p as k,k as be,o as Y,q as T,j as ie,v as oe,s as I,x as ae,y as ne,z as H,e as O,w as _e,T as ke,A as Se,u as Ae,a as we,B as Ie}from"./index-DmMjbbeW.js";const G={SHOWING_PLAN:"showing_plan",BEGINNER_PHASE_1:"beginner_phase_1",PRO_CONFIGURING:"pro_configuring",PRO_SKILL_SELECTION:"pro_skill_selection"},le=ye("conversation",{state:()=>({currentState:G.SHOWING_PLAN,userPath:null,selectedSkills:[],currentlyConfiguringSkill:null,messages:[],currentPhase:{number:1,name:"Agent Foundation & Skills",status:"pending",currentQuestionIndex:0},milestones:{goal:"",contextSummary:"",completed:[],current:"",upcoming:["Add tools connections","Add safety and behavior guides (guardrails)","Validate","Add more tasks (optional)","Test"]},isWaitingForAI:!1,isProcessing:!1}),getters:{allMessages:o=>o.messages,isWaitingForUser:o=>!o.isWaitingForAI&&!o.isProcessing,milestoneStatus:o=>({goal:o.milestones.goal,contextSummary:o.milestones.contextSummary,completed:o.milestones.completed,current:o.milestones.current,upcoming:o.milestones.upcoming})},actions:{addMessage(o){const u={id:Date.now().toString(),timestamp:new Date,...o};this.messages.push(u)},addAIMessage(o,u="text",g=null,r=null,n=null,e=null,i=null){this.addMessage({sender:"ai",content:o,type:u,actions:g,improvements:r,progressItems:n,title:e,skills:i})},updateMessage(o,u){const g=this.messages.find(r=>r.id===o);g&&Object.assign(g,u)},addUserMessage(o){this.addMessage({sender:"user",content:o,type:"text"})},initializeConversation(o){this.messages=[],this.milestones.goal=o,N().initializeAgent(o),this.addAIMessage(`Perfect! Let's build your ${o} agent.`),setTimeout(()=>{this.addAIMessage("Step 1 of 6: Agent Foundation & Skills")},500),setTimeout(()=>{this.addAIMessage("First, let's define what your agent can do. You can give it multiple skills - like scheduling appointments AND answering questions. This is what makes your agent powerful!")},1100),setTimeout(()=>{this.addAIMessage("What skills should your agent have? Select all that apply:","skill-selector",null,null,null,null,[{id:"appointment_scheduler",label:"Schedule appointments"},{id:"form_collector",label:"Collect forms"},{id:"billing_helper",label:"Answer billing questions"},{id:"question_answering",label:"Answer common questions"},{id:"prescription_refills",label:"Handle prescription refills"},{id:"reminders",label:"Send reminders"},{id:"custom",label:"Something else (I'll describe it)"}])},1400),this.currentState=G.PRO_SKILL_SELECTION},selectPath(o){this.userPath=o,o==="beginner"?(this.currentState=G.BEGINNER_PHASE_1,this.currentPhase.status="in_progress",this.milestones.current=`Goal: ${this.milestones.goal}`,this.addAIMessage("Great! Let's start with the basics."),setTimeout(()=>{this.addAIMessage("What's the main purpose of appointments in your business?")},800)):o==="pro"&&(this.currentState=G.PRO_CONFIGURING,this.currentPhase.status="in_progress",setTimeout(()=>{this.addAIMessage("Step 1 of 6: Agent Foundation & Skills")},300),setTimeout(()=>{this.addAIMessage("What skills should your agent have?","skill-selector",null,null,null,null,[{id:"appointment_scheduler",label:"Schedule appointments"},{id:"form_collector",label:"Collect forms"},{id:"billing_helper",label:"Answer billing questions"}]),this.currentState=G.PRO_SKILL_SELECTION},600))},updateMilestone(o){o.current&&(this.milestones.current=o.current),o.contextSummary&&(this.milestones.contextSummary=o.contextSummary),o.completed&&this.milestones.completed.push(o.completed)},setWaitingForAI(o){this.isWaitingForAI=o},setProcessing(o){this.isProcessing=o},updateProgressTracker(o,u){const g=this.messages.find(r=>r.type==="progress-tracker");g&&g.progressItems&&(g.progressItems[o-1].status=u)},completePhaseAndMoveNext(o,u){const g=this.currentPhase.number;this.addAIMessage(`✓ Step ${g} complete!`),this.currentPhase.number=o,this.currentPhase.name=u,this.currentPhase.status="in_progress",setTimeout(()=>{this.addAIMessage(`Step ${o} of 6: ${u}`)},500)},clearConversation(){this.messages=[],this.currentState=G.SHOWING_PLAN,this.userPath=null,this.currentPhase={number:1,name:"Agent Foundation & Skills",status:"pending",currentQuestionIndex:0},this.milestones={goal:"",contextSummary:"",completed:[],current:"",upcoming:["Add tools connections","Add safety and behavior guides (guardrails)","Validate","Add more tasks (optional)","Test"]}}}}),Ce={class:"validation-container"},Me={class:"validation-header"},$e={class:"validation-subtitle"},Pe={class:"improvements-list"},Te=["onClick"],xe={class:"card-header-left"},Ge={class:"card-number"},Fe={class:"card-title-group"},We={class:"card-title"},Ne={class:"expand-icon"},Ve={key:0,class:"card-content"},Re={class:"card-description"},De={key:0,class:"card-details"},Le={class:"details-text"},Oe={key:1,class:"card-impact"},Be={class:"impact-text"},qe={class:"validation-actions"},Ee={__name:"ValidationCard",props:{improvements:{type:Array,required:!0,default:()=>[]}},emits:["apply-all","review-each","skip"],setup(o){const u=S({}),g=r=>{u.value[r]=!u.value[r]};return(r,n)=>(l(),d("div",Ce,[s("div",Me,[n[3]||(n[3]=s("h3",null,"Validation Complete",-1)),s("p",$e," Found "+m(o.improvements.length)+" improvements that could enhance your agent ",1)]),s("div",Pe,[(l(!0),d($,null,P(o.improvements,(e,i)=>(l(),d("div",{key:i,class:C(["improvement-card",{expanded:u.value[i]}])},[s("button",{onClick:p=>g(i),class:"card-header"},[s("div",xe,[s("span",Ge,m(i+1),1),s("div",Fe,[s("h4",We,m(e.title),1),s("span",{class:C(["card-badge",e.type])},m(e.type),3)])]),s("span",Ne,m(u.value[i]?"−":"+"),1)],8,Te),u.value[i]?(l(),d("div",Ve,[s("p",Re,m(e.description),1),e.details?(l(),d("div",De,[n[4]||(n[4]=s("p",{class:"details-label"},"What this means:",-1)),s("p",Le,m(e.details),1)])):b("",!0),e.impact?(l(),d("div",Oe,[n[5]||(n[5]=s("div",{class:"impact-label"},"Impact:",-1)),s("div",Be,m(e.impact),1)])):b("",!0)])):b("",!0)],2))),128))]),s("div",qe,[s("button",{onClick:n[0]||(n[0]=e=>r.$emit("apply-all")),class:"action-button primary"}," Apply All Improvements "),s("button",{onClick:n[1]||(n[1]=e=>r.$emit("review-each")),class:"action-button secondary"}," Review Each Individually "),s("button",{onClick:n[2]||(n[2]=e=>r.$emit("skip")),class:"action-button tertiary"}," Skip for Now ")])]))}},Qe=w(Ee,[["__scopeId","data-v-41805698"]]),He={class:"vs-preview-card"},ze={class:"vs-visual"},Ye={class:"vs-box agent-box"},Ue={class:"box-content"},Ke={class:"vs-actions"},je={__name:"VisualStudioPreview",emits:["check-vs","keep-building"],setup(o){const u=N(),g=k(()=>{const r=u.goal||"Healthcare agent";return r.length>40?r.substring(0,40)+"...":r});return(r,n)=>(l(),d("div",He,[n[5]||(n[5]=s("div",{class:"vs-header"},[s("span",{class:"vs-title"},"Agent Studio sneak peek"),s("span",{class:"vs-arrow"},"→")],-1)),s("div",ze,[s("div",Ye,[n[2]||(n[2]=s("div",{class:"box-label"},"Agent",-1)),s("div",Ue,m(g.value),1)]),n[3]||(n[3]=s("div",{class:"vs-connector"},"→",-1)),n[4]||(n[4]=s("div",{class:"vs-box task-box"},[s("div",{class:"box-label"},"Task"),s("div",{class:"box-content"},"Book appointments")],-1))]),s("div",Ke,[s("button",{onClick:n[0]||(n[0]=e=>r.$emit("check-vs")),class:"vs-button secondary"}," Check out Agent Studio → "),s("button",{onClick:n[1]||(n[1]=e=>r.$emit("keep-building")),class:"vs-button primary"}," Keep building → ")])]))}},Ze=w(je,[["__scopeId","data-v-0494a0c2"]]),Je={class:"whole-plan-view"},Xe={key:0},es={class:"plan-phases"},ss={class:"phase-number"},ts={class:"phase-title"},ns={class:"phase-description"},is={key:0,class:"phase-items"},os={class:"action-section"},as={class:"action-buttons"},ls=["disabled"],rs=["disabled"],ds={key:1,class:"plan-summary"},us={class:"summary-text"},cs={__name:"WholePlanView",emits:["confirm","cancel"],setup(o,{emit:u}){const g=u,r=S(!1),n=S(null),e=S(!1),i=()=>{r.value||(r.value=!0,n.value="confirm",e.value=!0,g("confirm"))},p=()=>{r.value||(r.value=!0,n.value="cancel",e.value=!0,g("cancel"))},f=[{number:1,title:"Agent Foundation & Tasks",description:"Define your company context and the specific tasks you want your agent to handle",items:["Company information","Business hours & scheduling rules","Core agent tasks"]},{number:2,title:"Enable Connections",description:"Connect tools and platforms your agent needs to access",items:["Calendar integration (Google Calendar, Outlook)","Video conferencing (Zoom, Google Meet)","CRM or other platforms"]},{number:3,title:"Safety & Guardrails",description:"Set boundaries to ensure your agent operates safely",items:["Safety rules","Identity verification","Business rules & constraints"]},{number:4,title:"Validate & Refine",description:"Review progress and make improvements",items:["Identify gaps","Apply suggested improvements","Finalize configuration"]},{number:5,title:"Design Conversations",description:"Build conversation flows for key interactions",items:["Scheduling flows","Rescheduling logic","Confirmations & follow-ups"]},{number:6,title:"Test & Launch",description:"Validate everything works as expected",items:["Run test scenarios","Generate demo link","Deploy when ready"]}];return(_,h)=>(l(),d("div",Je,[e.value?(l(),d("div",ds,[s("p",us,[s("strong",null,m(n.value==="confirm"?"Running":"Starting")+" 6-Phase Build Plan:",1),h[3]||(h[3]=be(" Foundation → Connect → Safety → Validate → Design → Test ",-1))]),s("button",{onClick:h[0]||(h[0]=y=>e.value=!1),class:"view-details-btn"}," View plan details ")])):(l(),d("div",Xe,[h[2]||(h[2]=s("div",{class:"phases-header"},[s("h3",{class:"phases-title"},"6-Phase Build Plan"),s("p",{class:"phases-subtitle"},"Foundation → Connect → Safety → Validate → Design → Test")],-1)),s("div",es,[(l(),d($,null,P(f,(y,V)=>s("div",{key:y.number,class:"phase-card"},[s("div",ss,"Phase "+m(y.number),1),s("h4",ts,m(y.title),1),s("p",ns,m(y.description),1),y.items&&y.items.length>0?(l(),d("div",is,[(l(!0),d($,null,P(y.items,x=>(l(),d("div",{key:x,class:"phase-item"},m(x),1))),128))])):b("",!0)])),64))]),s("div",os,[h[1]||(h[1]=s("h4",{class:"action-title"},"How would you like to proceed?",-1)),s("div",as,[s("button",{onClick:p,class:C(["action-btn secondary-action",{selected:n.value==="cancel"}]),disabled:r.value},m(n.value==="cancel"?"Starting guided setup...":"Guide me step by step"),11,ls),s("button",{onClick:i,class:C(["action-btn primary-action",{selected:n.value==="confirm"}]),disabled:r.value},m(n.value==="confirm"?"Running plan...":"Run the whole plan"),11,rs)])])]))]))}},gs=w(cs,[["__scopeId","data-v-70447717"]]),ms={class:"document-input-card"},ps={class:"input-actions"},hs=["disabled"],fs=["disabled"],vs={__name:"DocumentInput",emits:["submit","cancel"],setup(o,{emit:u}){const g=u,r=S(""),n=S(!1),e=S(null),i=()=>{e.value&&(e.value.style.height="auto",e.value.style.height=e.value.scrollHeight+"px")};Y(()=>{T(()=>{e.value&&e.value.focus()})});const p=()=>{!r.value.trim()||n.value||(n.value=!0,g("submit",r.value.trim()))},f=()=>{n.value||g("cancel")};return(_,h)=>(l(),d("div",ms,[h[1]||(h[1]=s("p",{class:"input-label"},"Paste your requirements document below:",-1)),ie(s("textarea",{"onUpdate:modelValue":h[0]||(h[0]=y=>r.value=y),placeholder:"Paste your document here... Include details like business hours, appointment types, scheduling rules, safety requirements, etc.",class:"document-textarea",rows:"8",ref_key:"textarea",ref:e,onInput:i},null,544),[[oe,r.value]]),s("div",ps,[s("button",{onClick:f,disabled:n.value,class:"action-btn cancel-btn"}," Cancel ",8,hs),s("button",{onClick:p,disabled:n.value||!r.value.trim(),class:"action-btn submit-btn"},m(n.value?"Processing...":"Submit"),9,fs)])]))}},ys=w(vs,[["__scopeId","data-v-6e1be654"]]),bs={class:"loading-progress"},_s={class:"progress-header"},ks={class:"progress-title"},Ss={class:"progress-items"},As={class:"progress-icon"},ws={key:0,class:"completed-dot"},Is={key:1,class:"active-dot"},Cs={key:2,class:"dot"},Ms={class:"progress-content"},$s={class:"progress-label"},Ps={__name:"LoadingProgress",props:{title:{type:String,default:"Configuring your agent..."},items:{type:Array,required:!0}},setup(o){const u=o,g=le(),r=k(()=>{const n=g.currentPhase.number;return u.items.map((e,i)=>{const p=i+1;let f="pending";return p<n?f="completed":p===n&&(f="in_progress"),{...e,status:f}})});return(n,e)=>(l(),d("div",bs,[s("div",_s,[s("span",ks,m(o.title),1)]),s("div",Ss,[(l(!0),d($,null,P(r.value,(i,p)=>(l(),d("div",{key:p,class:C(["progress-item",i.status])},[s("div",As,[i.status==="completed"?(l(),d("span",ws)):i.status==="in_progress"?(l(),d("span",Is)):(l(),d("span",Cs))]),s("div",Ms,[s("div",$s,m(i.label),1)])],2))),128))])]))}},z=w(Ps,[["__scopeId","data-v-e8ff17c4"]]),Ts={class:"skill-selector"},xs={class:"skill-options"},Gs=["value","checked","onChange"],Fs={class:"skill-label"},Ws=["disabled"],Ns={__name:"SkillSelector",props:{skills:{type:Array,required:!0}},emits:["continue"],setup(o,{emit:u}){const g=u,r=S([]),n=p=>r.value.includes(p),e=p=>{const f=r.value.indexOf(p);f>-1?r.value.splice(f,1):r.value.push(p)},i=()=>{r.value.length>0&&g("continue",r.value)};return(p,f)=>(l(),d("div",Ts,[s("div",xs,[(l(!0),d($,null,P(o.skills,_=>(l(),d("label",{key:_.id,class:C(["skill-option",{selected:n(_.id)}])},[s("input",{type:"checkbox",value:_.id,checked:n(_.id),onChange:h=>e(_.id),class:"skill-checkbox"},null,40,Gs),s("span",Fs,m(_.label),1)],2))),128))]),s("button",{onClick:i,disabled:r.value.length===0,class:"continue-button"}," Continue with selected skills ",8,Ws)]))}},Vs=w(Ns,[["__scopeId","data-v-71be668e"]]),Rs={class:"message-bubble"},Ds={key:7,class:"simple-loading"},Ls={class:"loading-text"},Os={key:0,class:"message-actions"},Bs=["onClick"],qs={class:"message-timestamp"},Es={__name:"ChatMessage",props:{message:{type:Object,required:!0}},emits:["action-clicked","document-submitted","skills-selected"],setup(o){const u=o,g=k(()=>u.message.content&&/^Step \d+ of 6:/.test(u.message.content)),r=n=>n?new Date(n).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):"";return(n,e)=>(l(),d("div",{class:C(["chat-message",o.message.sender])},[s("div",Rs,[o.message.type==="validation"?(l(),I(Qe,{key:0,improvements:o.message.improvements||[],onApplyAll:e[0]||(e[0]=i=>n.$emit("action-clicked","Apply all")),onReviewEach:e[1]||(e[1]=i=>n.$emit("action-clicked","Review each")),onSkip:e[2]||(e[2]=i=>n.$emit("action-clicked","Skip validation"))},null,8,["improvements"])):o.message.type==="visual-studio"?(l(),I(Ze,{key:1,onCheckVs:e[3]||(e[3]=i=>n.$emit("action-clicked","Check out Visual Studio")),onKeepBuilding:e[4]||(e[4]=i=>n.$emit("action-clicked","Keep building"))})):o.message.type==="whole-plan"?(l(),I(gs,{key:2,onConfirm:e[5]||(e[5]=i=>n.$emit("action-clicked","Confirm whole plan")),onCancel:e[6]||(e[6]=i=>n.$emit("action-clicked","Go step by step"))})):o.message.type==="document-input"?(l(),I(ys,{key:3,onSubmit:e[7]||(e[7]=i=>n.$emit("document-submitted",i)),onCancel:e[8]||(e[8]=i=>n.$emit("action-clicked","Cancel document paste"))})):o.message.type==="loading-progress"?(l(),I(z,{key:4,title:o.message.title,items:o.message.progressItems||[]},null,8,["title","items"])):o.message.type==="progress-tracker"?(l(),I(z,{key:5,title:o.message.title,items:o.message.progressItems||[]},null,8,["title","items"])):o.message.type==="skill-selector"?(l(),I(Vs,{key:6,skills:o.message.skills||[],onContinue:e[9]||(e[9]=i=>n.$emit("skills-selected",i))},null,8,["skills"])):o.message.type==="simple-loading"?(l(),d("div",Ds,[e[10]||(e[10]=s("div",{class:"loading-spinner"},null,-1)),s("span",Ls,m(o.message.content),1)])):(l(),d("div",{key:8,class:C(["message-text",{"step-announcement":g.value}])},m(o.message.content),3))]),o.message.actions&&o.message.actions.length>0&&o.message.type==="text"?(l(),d("div",Os,[(l(!0),d($,null,P(o.message.actions,(i,p)=>(l(),d("button",{key:p,onClick:f=>n.$emit("action-clicked",i),class:"action-button"},m(i),9,Bs))),128))])):b("",!0),s("div",qs,m(r(o.message.timestamp)),1)],2))}},Qs=w(Es,[["__scopeId","data-v-b1152ecf"]]),Hs={class:"message-input-container"},zs={class:"input-wrapper"},Ys=["onKeydown","disabled"],Us=["disabled"],Ks={__name:"MessageInput",props:{disabled:{type:Boolean,default:!1}},emits:["send-message","improve"],setup(o,{emit:u}){const g=o,r=u,n=S(""),e=S(null);Y(()=>{T(()=>{e.value&&!g.disabled&&e.value.focus()})});const i=()=>{e.value&&(e.value.style.height="auto",e.value.style.height=e.value.scrollHeight+"px")};ae(n,()=>{T(()=>i())});const p=()=>{!n.value.trim()||g.disabled||(r("send-message",n.value.trim()),n.value="",T(()=>{e.value&&(e.value.style.height="auto",e.value.focus())}))},f=()=>{n.value+=`
`};return(_,h)=>(l(),d("div",Hs,[s("div",zs,[ie(s("textarea",{"onUpdate:modelValue":h[0]||(h[0]=y=>n.value=y),onKeydown:[ne(H(p,["exact","prevent"]),["enter"]),ne(H(f,["shift","exact"]),["enter"])],placeholder:"Reply or answer question...",disabled:o.disabled,ref_key:"textarea",ref:e,rows:"1",class:"message-textarea"},null,40,Ys),[[oe,n.value]]),s("button",{onClick:p,disabled:o.disabled||!n.value.trim(),class:"send-button"},[...h[1]||(h[1]=[s("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M18 10L2 2L5 10L2 18L18 10Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])],8,Us)])]))}},js=w(Ks,[["__scopeId","data-v-c71f7c03"]]),Zs={class:"chat-header"},Js={class:"header-content"},Xs={class:"agent-name"},et={class:"header-actions"},st={__name:"ProgressBar",emits:["preview-agent","save-and-exit"],setup(o){const u=N(),g=k(()=>u.name||"New AI Agent");return(r,n)=>(l(),d("div",Zs,[s("div",Js,[s("h1",Xs,m(g.value),1),s("div",et,[s("button",{onClick:n[0]||(n[0]=e=>r.$emit("save-and-exit")),class:"save-exit-button"}," Save & Exit "),s("button",{onClick:n[1]||(n[1]=e=>r.$emit("preview-agent")),class:"preview-button"}," Preview Agent ")])])]))}},tt=w(st,[["__scopeId","data-v-bbc9d0ee"]]),nt={class:"modal-header"},it={class:"modal-content"},ot={class:"config-section"},at={class:"config-grid"},lt={class:"config-item"},rt={class:"config-value"},dt={class:"config-item"},ut={class:"config-value"},ct={key:0,class:"config-section"},gt={class:"config-grid"},mt={key:0,class:"config-item"},pt={class:"config-value"},ht={key:1,class:"config-item"},ft={class:"config-value"},vt={key:2,class:"config-item"},yt={class:"config-value"},bt={key:3,class:"config-item"},_t={class:"config-value"},kt={key:1,class:"config-section"},St={class:"connections-list"},At={class:"connection-name"},wt={key:2,class:"config-section"},It={class:"config-grid"},Ct={key:0,class:"config-item"},Mt={class:"config-value"},$t={key:1,class:"config-item"},Pt={class:"config-value"},Tt={class:"rules-list"},xt={key:3,class:"empty-state"},Gt={class:"modal-footer"},Ft=["disabled"],Wt={__name:"PreviewModal",props:{isOpen:{type:Boolean,default:!1}},emits:["close","test-agent"],setup(o,{emit:u}){const g=u,r=N(),n=k(()=>r.name||"New AI Agent"),e=k(()=>r.goal||"Not set"),i=k(()=>r.foundation||{}),p=k(()=>r.connections||[]),f=k(()=>r.guardrails||{}),_=k(()=>i.value.purpose||i.value.businessHours||i.value.appointmentDuration),h=k(()=>p.value.length>0),y=k(()=>f.value.identityVerification||f.value.businessRules&&f.value.businessRules.length>0),V=k(()=>_.value&&h.value),x=()=>{g("test-agent"),g("close")};return(F,c)=>(l(),I(Se,{to:"body"},[O(ke,{name:"modal"},{default:_e(()=>[o.isOpen?(l(),d("div",{key:0,class:"modal-overlay",onClick:c[3]||(c[3]=A=>F.$emit("close"))},[s("div",{class:"modal-container",onClick:c[2]||(c[2]=H(()=>{},["stop"]))},[s("div",nt,[c[4]||(c[4]=s("h2",null,"Agent Configuration",-1)),s("button",{onClick:c[0]||(c[0]=A=>F.$emit("close")),class:"close-button"}," × ")]),s("div",it,[s("div",ot,[c[7]||(c[7]=s("h3",{class:"section-title"},"Agent Details",-1)),s("div",at,[s("div",lt,[c[5]||(c[5]=s("div",{class:"config-label"},"Name",-1)),s("div",rt,m(n.value),1)]),s("div",dt,[c[6]||(c[6]=s("div",{class:"config-label"},"Goal",-1)),s("div",ut,m(e.value),1)])])]),_.value?(l(),d("div",ct,[c[12]||(c[12]=s("h3",{class:"section-title"},"Foundation",-1)),s("div",gt,[i.value.purpose?(l(),d("div",mt,[c[8]||(c[8]=s("div",{class:"config-label"},"Purpose",-1)),s("div",pt,m(i.value.purpose),1)])):b("",!0),i.value.businessHours?(l(),d("div",ht,[c[9]||(c[9]=s("div",{class:"config-label"},"Business Hours",-1)),s("div",ft,m(i.value.businessHours),1)])):b("",!0),i.value.appointmentDuration?(l(),d("div",vt,[c[10]||(c[10]=s("div",{class:"config-label"},"Appointment Duration",-1)),s("div",yt,m(i.value.appointmentDuration),1)])):b("",!0),i.value.bufferTime?(l(),d("div",bt,[c[11]||(c[11]=s("div",{class:"config-label"},"Buffer Time",-1)),s("div",_t,m(i.value.bufferTime),1)])):b("",!0)])])):b("",!0),h.value?(l(),d("div",kt,[c[13]||(c[13]=s("h3",{class:"section-title"},"Connections",-1)),s("div",St,[(l(!0),d($,null,P(p.value,A=>(l(),d("div",{key:A.type,class:"connection-item"},[s("span",{class:C(["connection-badge",A.type])},m(A.type),3),s("span",At,m(A.name),1)]))),128))])])):b("",!0),y.value?(l(),d("div",wt,[c[16]||(c[16]=s("h3",{class:"section-title"},"Safety & Guardrails",-1)),s("div",It,[f.value.identityVerification?(l(),d("div",Ct,[c[14]||(c[14]=s("div",{class:"config-label"},"Identity Verification",-1)),s("div",Mt,m(f.value.identityVerification),1)])):b("",!0),f.value.businessRules&&f.value.businessRules.length>0?(l(),d("div",$t,[c[15]||(c[15]=s("div",{class:"config-label"},"Business Rules",-1)),s("div",Pt,[s("ul",Tt,[(l(!0),d($,null,P(f.value.businessRules,(A,B)=>(l(),d("li",{key:B},m(A),1))),128))])])])):b("",!0)])])):b("",!0),!_.value&&!h.value&&!y.value?(l(),d("div",xt,[...c[17]||(c[17]=[s("p",null,"Agent configuration in progress...",-1),s("p",{class:"empty-subtitle"},"Complete the conversation to see your agent's full configuration.",-1)])])):b("",!0)]),s("div",Gt,[s("button",{onClick:c[1]||(c[1]=A=>F.$emit("close")),class:"footer-button secondary"}," Close "),s("button",{onClick:x,class:"footer-button primary",disabled:!V.value}," Test Agent ",8,Ft)])])])):b("",!0)]),_:1})]))}},Nt=w(Wt,[["__scopeId","data-v-1c6592a8"]]),Vt={class:"builder-view"},Rt={class:"builder-content"},Dt={key:0,class:"steps-sidebar"},Lt={__name:"ConversationalBuilderView",setup(o){const u=S(!1),g=[{label:"Agent Foundation & Skills",description:"Define your company context and the specific tasks you want your agent to handle"},{label:"Enable Connections",description:"Connect tools and platforms your agent needs to access"},{label:"Safety & Guardrails",description:"Set boundaries to ensure your agent operates safely"},{label:"Validate & Refine",description:"Review progress and make improvements"},{label:"Design Conversations",description:"Build conversation flows for key interactions"},{label:"Test Agent",description:"Validate everything works as expected"}],r=Ae(),n=we(),e=le(),i=N(),p=S(null),f=k(()=>!i.hasCompletedOnboarding),_=k(()=>{const t=e.currentState;return t==="pro_asking_missing"||t==="beginner_phase_1"||t==="pro_configuring_form_collector"||t==="pro_configuring_billing"||t==="pro_configuring_question_answering"||t==="pro_configuring_prescription_refills"||t==="pro_configuring_reminders"||t==="pro_configuring_custom"}),h=(t=!0)=>{p.value&&p.value.scrollTo({top:p.value.scrollHeight,behavior:t?"smooth":"auto"})},y=(t=!0)=>{if(p.value){const a=p.value.lastElementChild;a&&a.scrollIntoView({behavior:t?"smooth":"auto",block:"end"})}};ae(()=>e.messages.length,()=>{T(()=>{setTimeout(()=>{y()},100)})}),Y(()=>{const t=r.query.goal||i.goal;if(!t){window.location.href="/";return}if(i.status==="deployed"){n.push(`/agent/${i.id}/overview`);return}i.id||i.initializeAgent(t),e.messages.length===0&&e.initializeConversation(t),T(()=>{h(!1),setTimeout(()=>{h(!1)},100),setTimeout(()=>{h(!1)},500)})});const V=t=>{e.addUserMessage(t),T(()=>{setTimeout(()=>{y()},50)}),A(t)},x=t=>{e.addUserMessage(t),T(()=>{setTimeout(()=>{y()},50)}),B(t)},F=t=>{e.addUserMessage("*Document pasted*"),J(t)},c=()=>{n.push("/test-mode")},A=t=>{const a=e.currentState;e.setWaitingForAI(!0),setTimeout(()=>{a==="asking_path"?t.toLowerCase().includes("step")?e.selectPath("beginner"):(t.toLowerCase().includes("whole")||t.toLowerCase().includes("plan"))&&e.selectPath("pro"):a==="beginner_phase_1"?re(t):a==="pro_asking_missing"?ge(t):a==="pro_configuring_form_collector"?fe(t):a==="pro_configuring_billing"?ve(t):a==="pro_configuring_question_answering"?D(t,"question_answering"):a==="pro_configuring_prescription_refills"?D(t,"prescription_refills"):a==="pro_configuring_reminders"?D(t,"reminders"):a==="pro_configuring_custom"?D(t,"custom"):a==="beginner_phase_2"?U(t):a==="beginner_phase_3"?K(t):a==="beginner_phase_4"?q(t):a==="beginner_phase_5"?E(t):a==="pro_gathering_info"?J(t):a==="pro_phase_2"?X(t):a==="pro_phase_3"?ee(t):a==="pro_phase_4"&&se(t),e.setWaitingForAI(!1)},1e3)},B=t=>{const a=e.currentState;if(e.setWaitingForAI(!0),t==="Test agent now"){i.completeOnboarding(),n.push("/test-mode");return}else if(t==="Check out Visual Studio"){e.currentState="pro_vs_opened",n.push("/workflow-builder");return}else if(t==="Keep building"){e.setWaitingForAI(!0),e.addAIMessage("Great! Let's continue building..."),setTimeout(()=>{Q(),e.setWaitingForAI(!1)},1e3);return}else if(t==="Continue to validation"){e.setWaitingForAI(!0),setTimeout(()=>{Q(),e.setWaitingForAI(!1)},500);return}setTimeout(()=>{if(t==="Guide me step by step"){e.addAIMessage("Great! Let's configure your skills."),setTimeout(()=>{e.currentlyConfiguringSkill=0,W()},800),e.setWaitingForAI(!1);return}else if(t==="I'll configure it myself in the advanced builder"){e.addAIMessage("Opening Agent Studio..."),i.completeOnboarding(),n.push("/agent-studio");return}else if(t==="Go step by step")e.selectPath("beginner");else if(t==="Confirm whole plan")e.selectPath("pro");else if(a==="pro_gathering_info")t==="Answer questions"?(e.currentState="pro_asking_missing",e.addAIMessage(`Great! Let's collect the key details:

Scheduling Parameters:
• What are your preferred business hours? (e.g., Monday-Friday, 9 AM - 5 PM EST)
• What's the default appointment duration?
• What buffer time between appointments?`)):t==="Paste a document"?e.addAIMessage(null,"document-input"):t==="Cancel document paste"&&e.addAIMessage("No problem! Would you like to:","text",["Answer questions","Paste a document"]);else if(a==="beginner_phase_2")U(t);else if(a==="beginner_phase_3")K(t);else if(a==="beginner_phase_4")q(t);else if(a==="beginner_phase_5")E(t);else if(a==="pro_phase_5")E(t);else if(a==="beginner_phase_6"||a==="pro_phase_6")if(t==="Start testing")e.addAIMessage("Opening test mode..."),i.completeOnboarding(),n.push("/test-mode");else if(t==="Open Agent Studio")e.addAIMessage("Opening Agent Studio..."),i.completeOnboarding(),n.push("/agent-studio");else if(t==="Save and get demo link"){e.addAIMessage("Generating your demo link...");const v=i.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),M=Date.now().toString(36),L=`https://daart-demo.com/${v}-${M}`;setTimeout(()=>{e.addAIMessage(`Your agent is ready! Here's your demo link:

${L}

Share this with your team to try the agent. The link will remain active for 30 days.

What would you like to do next?`,"text",["View agent overview","Test agent now"])},1500)}else t==="Back to overview"?(e.addAIMessage("Returning to overview..."),setTimeout(()=>{e.addAIMessage("Your agent is built and ready! You can continue building or deploy when ready.")},1e3)):t==="View agent overview"?u.value=!0:t==="Deploy agent"?(e.addAIMessage("Opening deployment wizard..."),i.completeOnboarding(),n.push("/deploy")):t==="Test agent now"?(e.addAIMessage("Opening test mode..."),i.completeOnboarding(),n.push("/test-mode")):t==="Monitor performance"&&(e.addAIMessage("Opening performance monitor..."),i.completeOnboarding(),n.push("/monitor"));else a==="pro_phase_2"?X(t):a==="pro_phase_3"?ee(t):a==="pro_phase_4"&&se(t);e.setWaitingForAI(!1)},1e3)},re=t=>{const a=e.currentPhase.currentQuestionIndex,v=[{field:"purpose",nextQuestion:"Perfect. Now let's talk about how customers will book these appointments. Do you have preferred dates or times when appointments are typically available? For instance, maybe you prioritize weekday mornings, or avoid Fridays?"},{field:"businessHours",nextQuestion:"That makes sense. What about appointment duration — how long do these typically last?"},{field:"appointmentDuration",nextQuestion:"Good. Now, when checking availability, should the agent respect any buffers between appointments? For example, 10 minutes between patients for notes and prep?"},{field:"bufferTime",nextQuestion:"Got it. For Holiday hours or blackout periods I have this information from your Office settings: Standard US holidays, plus lunch from 12:30 to 1:30 PM daily. Is that ok?"},{field:"blackoutPeriods",nextQuestion:null}];if(a<v.length){const M=v[a],L={};L[M.field]=t,i.updateFoundation(L),a===0&&e.updateMilestone({current:`Goal: ${i.goal}`,contextSummary:"Context: in progress"}),e.currentPhase.currentQuestionIndex++,M.nextQuestion?e.addAIMessage(M.nextQuestion):de()}},U=t=>{const a=e.currentPhase.currentQuestionIndex;a===0?(i.addConnection({type:"calendar",name:t}),e.addAIMessage("Great! Now for video meetings, which service do you use?","text",["Zoom","Microsoft Teams","Google Meet","Other"]),e.currentPhase.currentQuestionIndex++):a===1&&(i.addConnection({type:"video",name:t}),ue())},K=t=>{const a=e.currentPhase.currentQuestionIndex;a===0?(i.updateGuardrails({identityVerification:t}),e.addAIMessage("Got it. Any business rules? For example, limits on new patients per day or provider-specific rules?"),e.currentPhase.currentQuestionIndex++):a===1&&(i.updateGuardrails({businessRules:[t]}),j())},q=t=>{const a=t.toLowerCase();a.includes("apply")?(e.addAIMessage("Applying all improvements..."),setTimeout(()=>{e.addAIMessage("All improvements applied! Your agent is configured and optimized."),setTimeout(()=>{e.userPath==="pro"?te():Z()},1e3)},2e3)):a.includes("skip")?(e.addAIMessage("Skipping improvements for now. Your agent is ready to proceed!"),setTimeout(()=>{e.userPath==="pro"?te():Z()},800)):a.includes("review")&&e.addAIMessage("Let's review each improvement individually. Which one would you like to start with?","text",["Buffer conflict resolution","Timezone display enhancement","New patient cap alert","Specialty routing fallback","Apply all and continue"])},E=t=>{const a=t.toLowerCase();if(a.includes("test")||a.includes("skip")||a.includes("done")){e.addAIMessage("Great! Your agent is ready to test."),setTimeout(()=>{ce()},800);return}a.includes("email")||a.includes("confirmation")?(e.addAIMessage("Added email confirmations to your agent."),i.addSkill("email_confirmations",{enabled:!0})):a.includes("sms")||a.includes("reminder")?(e.addAIMessage("Added SMS reminders to your agent."),i.addSkill("sms_reminders",{enabled:!0})):a.includes("reschedule")||a.includes("flow")?(e.addAIMessage("Added reschedule flows to your agent."),i.addSkill("reschedule_flows",{enabled:!0})):e.addAIMessage(`Got it! I'll add ${t} to your agent.`),setTimeout(()=>{e.addAIMessage("Would you like to add more capabilities?","text",["Add email confirmations","Add SMS reminders","Add reschedule flows","Done - let's test"])},800)},de=()=>{e.currentPhase.number=2,e.currentPhase.name="Enable Connections",e.currentPhase.status="in_progress",e.currentPhase.currentQuestionIndex=0,e.updateMilestone({completed:"Goal and context defined",current:"Connections: in progress"}),e.currentState="beginner_phase_2",e.addAIMessage("Step 2 of 6: Enable Connections"),setTimeout(()=>{e.addAIMessage("Which calendar system do your providers use?","text",["Google Calendar","Microsoft Calendar","Other"])},500)},ue=()=>{e.currentPhase.number=3,e.currentPhase.name="Safety & Guardrails",e.currentPhase.status="in_progress",e.currentPhase.currentQuestionIndex=0,e.updateMilestone({completed:"Connections added",current:"Safety rules: in progress"}),e.currentState="beginner_phase_3",e.addAIMessage("Step 3 of 6: Safety & Guardrails"),setTimeout(()=>{e.addAIMessage("Now let's set up safety rules. For identity verification, what method works best?","text",["Date of birth","Last 4 of phone","Account PIN","None needed"])},500)},j=()=>{e.currentPhase.number=4,e.currentPhase.name="Validate & Refine",e.currentPhase.status="in_progress",e.currentPhase.currentQuestionIndex=0,e.updateMilestone({completed:"Safety rules configured",current:"Validation: in progress"}),e.currentState="beginner_phase_4",e.addAIMessage("Step 4 of 6: Validate & Refine"),setTimeout(()=>{e.addAIMessage("Running validation...")},500),setTimeout(()=>{const t=[{title:"Buffer conflict resolution",type:"optimization",description:"You've set a 15-minute buffer between appointments and a 12:30-1:30 PM lunch break.",details:"I recommend adding a 5-minute prep buffer before the first afternoon appointment (at 1:30 PM) to prevent back-to-back scheduling issues.",impact:"Prevents double-booking issues and gives staff time to prepare for afternoon appointments"},{title:"Timezone display enhancement",type:"ux",description:"For patients in different time zones, the agent should display times in both the patient's local time AND your office time.",details:"This reduces confusion when patients book appointments, especially if they're calling from Mountain or Eastern time zones while your office is in Pacific time.",impact:"Reduces booking errors and patient confusion by 40%"},{title:"New patient cap alert",type:"safety",description:"Your 5-new-patient-per-day cap should trigger proactive messaging.",details:"When only 1-2 slots remain for new patients, the agent should immediately offer next-day alternatives rather than showing unavailable times.",impact:"Improves patient experience and reduces frustration from seeing 'unavailable' times"},{title:"Specialty routing fallback",type:"enhancement",description:"When Dr. Martinez (pediatrics) or Dr. Chen (cardiology) are unavailable, the agent lacks clear guidance.",details:"The agent should explicitly ask if the patient wants to wait for that specialist or see a general practitioner for non-urgent cases.",impact:"Ensures patients get appropriate care routing and reduces missed appointment opportunities"}];e.addAIMessage(null,"validation",null,t)},2e3)},Z=()=>{e.currentPhase.number=5,e.currentPhase.name="Additional Skills",e.currentPhase.status="in_progress",e.currentPhase.currentQuestionIndex=0,e.updateMilestone({completed:"Validation complete",current:"Optional skills"}),e.currentState="beginner_phase_5",e.addAIMessage("Step 5 of 6: Design Conversations"),setTimeout(()=>{e.addAIMessage("Your agent is ready! Want to add more capabilities?","text",["Add confirmations","Add reminders","Skip - test now"])},500)},ce=()=>{e.currentPhase.number=6,e.currentPhase.name="Test & Launch",e.currentPhase.status="in_progress",e.updateMilestone({completed:"Agent configured",current:"Ready to test"}),e.currentState="beginner_phase_6",i.updateStatus("ready"),e.addAIMessage("Step 6 of 6: Test Agent"),setTimeout(()=>{e.addAIMessage("Perfect! Your agent is built and ready to test.")},500),setTimeout(()=>{e.addAIMessage("From here, you can test your agent or jump into Agent Studio to visually design and modify the conversation flow with a drag-and-drop interface.")},1200),setTimeout(()=>{e.addAIMessage("What would you like to do next?","text",["Start testing","Open Agent Studio","View agent overview"])},2e3)},ge=t=>{e.addAIMessage("Got it! Processing your scheduling requirements..."),i.updateFoundation({purpose:"Appointment scheduling and management",businessHours:t.includes("hours")?t:"Monday-Friday, 9 AM - 5 PM",appointmentDuration:"30 minutes",bufferTime:"15 minutes",blackoutPeriods:"Standard holidays"}),setTimeout(()=>{e.addAIMessage("Perfect! I have all the details I need."),e.setWaitingForAI(!1),setTimeout(()=>{R()},800)},1e3)},J=(t=null)=>{t?(e.addAIMessage("Extracting requirements from your document..."),i.updateFoundation({purpose:"Medical consultations and appointment management",businessHours:"Monday-Thursday 9am-5pm, Friday 9am-12pm",appointmentDuration:"30-45 minutes",bufferTime:"15 minutes",blackoutPeriods:"US holidays, lunch 12:30-1:30pm"}),setTimeout(()=>{e.addAIMessage("Configuration complete! Found your scheduling rules, business hours, and appointment types."),setTimeout(()=>{R()},800)},1500)):(e.addAIMessage("Configuring with smart defaults based on your goal..."),i.updateFoundation({purpose:"Appointment management",businessHours:"Standard business hours",appointmentDuration:"30 minutes",bufferTime:"15 minutes",blackoutPeriods:"Standard holidays"}),setTimeout(()=>{e.addAIMessage("Configuration complete!"),setTimeout(()=>{R()},800)},1e3))},R=()=>{e.currentPhase.number=2,e.currentPhase.name="Enable Connections",e.currentState="pro_phase_2",e.updateMilestone({completed:"Foundation configured",current:"Connections: in progress"}),e.addAIMessage("Step 2 of 6: Enable Connections"),setTimeout(()=>{e.addAIMessage("Which tools do you use?","text",["Google Calendar + Zoom","Microsoft Calendar + Teams","Custom setup"])},500)},X=t=>{t.includes("Google")?(i.addConnection({type:"calendar",name:"Google Calendar"}),i.addConnection({type:"video",name:"Zoom"})):t.includes("Microsoft")&&(i.addConnection({type:"calendar",name:"Microsoft Calendar"}),i.addConnection({type:"video",name:"Microsoft Teams"})),e.addAIMessage("Connections configured!"),setTimeout(()=>{me()},1e3)},me=()=>{e.currentPhase.number=3,e.currentPhase.name="Safety & Guardrails",e.currentState="pro_phase_3",e.updateMilestone({completed:"Connections added",current:"Safety: in progress"}),e.addAIMessage("Step 3 of 6: Safety & Guardrails"),setTimeout(()=>{e.addAIMessage("Quick safety check - verification method?","text",["Date of birth","Account PIN","Skip verification"])},500)},ee=t=>{i.updateGuardrails({identityVerification:t,safetyRules:["Never invent availability","Read back before confirming","Keep responses under 10 seconds"]}),e.addAIMessage("Safety configured!"),setTimeout(()=>{Q()},1e3)},Q=()=>{j(),e.currentState="pro_phase_4"},se=t=>{q(t)},te=()=>{e.currentPhase.number=5,e.currentPhase.name="Design Conversations",e.currentPhase.status="in_progress",e.currentPhase.currentQuestionIndex=0,e.updateMilestone({completed:"Validation complete",current:"Designing conversations"}),e.currentState="pro_phase_5",e.addAIMessage("Step 5 of 6: Design Conversations"),setTimeout(()=>{e.addAIMessage("Your agent is ready! Want to add more capabilities?","text",["Add confirmations","Add reminders","Skip - test now"])},500)},pe=()=>{e.addAIMessage("Saving your progress..."),setTimeout(()=>{e.addAIMessage("Progress saved! You can return anytime to continue building."),setTimeout(()=>{n.push({path:"/",query:{saved:"true"}})},1e3)},500)},he=t=>{t.forEach(v=>{i.addSkill(v)});const a=i.skills.map(v=>({appointment_scheduler:"Schedule appointments",form_collector:"Collect forms",billing_helper:"Answer billing questions"})[v.type]||v.type);e.addAIMessage(`Great! Your agent will have these skills: ${a.join(", ")}`),setTimeout(()=>{e.addAIMessage("How would you like to configure your agent?","text",["Guide me step by step","I'll configure it myself in the advanced builder"]),e.currentState="asking_path"},800)},W=()=>{const t=e.currentlyConfiguringSkill,a=i.skills[t];if(!a){setTimeout(()=>{R()},800);return}a.type==="appointment_scheduler"?(e.addAIMessage("What are your business hours for appointments?"),e.currentState="pro_asking_missing"):a.type==="form_collector"?(e.addAIMessage("What forms do you need to collect?"),e.currentState="pro_configuring_form_collector"):a.type==="billing_helper"?(e.addAIMessage("What billing questions should your agent handle?"),e.currentState="pro_configuring_billing"):a.type==="question_answering"?(e.addAIMessage("What types of questions should your agent be able to answer?"),e.currentState="pro_configuring_question_answering"):a.type==="prescription_refills"?(e.addAIMessage("How should your agent handle prescription refill requests?"),e.currentState="pro_configuring_prescription_refills"):a.type==="reminders"?(e.addAIMessage("What types of reminders should your agent send?"),e.currentState="pro_configuring_reminders"):a.type==="custom"?(e.addAIMessage("Please describe the custom skill you'd like your agent to have:"),e.currentState="pro_configuring_custom"):(e.addAIMessage(`Got it! I'll configure ${a.type} with smart defaults.`),setTimeout(()=>{e.currentlyConfiguringSkill++,W()},800))},fe=t=>{const a=e.currentlyConfiguringSkill,v=i.skills[a];v&&i.updateSkillConfig(v.id,{forms:t}),e.addAIMessage(`Got it! Your agent will collect: ${t}`),setTimeout(()=>{e.currentlyConfiguringSkill++,W()},800)},ve=t=>{const a=e.currentlyConfiguringSkill,v=i.skills[a];v&&i.updateSkillConfig(v.id,{billingQuestions:t}),e.addAIMessage(`Perfect! Your agent will handle: ${t}`),setTimeout(()=>{e.currentlyConfiguringSkill++,W()},800)},D=(t,a)=>{const v=e.currentlyConfiguringSkill,M=i.skills[v];M&&i.updateSkillConfig(M.id,{config:t}),e.addAIMessage(`Got it! Your agent will ${a==="custom"?"handle that":`handle ${a.replace(/_/g," ")}`}.`),setTimeout(()=>{e.currentlyConfiguringSkill++,W()},800)};return(t,a)=>(l(),d("div",Vt,[O(tt,{onPreviewAgent:a[0]||(a[0]=v=>u.value=!0),onSaveAndExit:pe}),s("div",Rt,[f.value?(l(),d("aside",Dt,[O(z,{title:"Building Your Agent",items:g})])):b("",!0),s("main",{class:C(["conversation-area",{"full-width":!f.value}])},[s("div",{class:"chat-messages",ref_key:"messagesContainer",ref:p},[(l(!0),d($,null,P(Ie(e).allMessages,v=>(l(),I(Qs,{key:v.id,message:v,onActionClicked:x,onDocumentSubmitted:F,onSkillsSelected:he},null,8,["message"]))),128))],512),_.value?(l(),I(js,{key:0,onSendMessage:V})):b("",!0)],2)]),O(Nt,{"is-open":u.value,onClose:a[1]||(a[1]=v=>u.value=!1),onTestAgent:c},null,8,["is-open"])]))}},Bt=w(Lt,[["__scopeId","data-v-904d913a"]]);export{Bt as default};
